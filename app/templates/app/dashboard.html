{% extends "app/layout.html" %}
{% block content %}
  <h1>Dashboard</h1>
  <h2>Jobs list</h2>
  <table class="table table-striped table-hover">
  	<thead>
  		<tr>
  			<th>Job ID</th>
  			<th>Status</th>
        <th>Start time</th>
        <th>Completion time</th>
        <th>Error messages</th>
        <th>Remove</th>
  		</tr>
  	</thead>
  	<tbody>
    {% for job in jobs %}
      <tr>
        <td><a href="{% url 'app:job_details' job.id %}">{{ job.id }}</a></td>
        <td>
          {{ job.get_status_display }}
        </td>
        <td>
          {{ job.created_at }}
        </td>
        <td>
          {% if job.status < 10 %}
            -
          {% else %}
            {{ job.updated_at }}
          {% endif %}
        </td>
        <td>
          {{ job.get_error_code_display }}
        </td>
        <td>
          <button data-remove-url="{% url 'app:job_remove' job.id %}" class="btn btn-danger btn-job-remove" type="submit">
            <span class="glyphicon glyphicon-remove"></span>
          </button>
        </td>
      </tr>
    {% endfor %}
    </tbody>
  </table>

{% endblock %}
